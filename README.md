# پروژه ردیابی بسکتبال (BasketTracking)

![لوگو](resources/logo_large.png)

# 


---

### معرفی پروژه
در تیم‌های حرفه‌ای بسکتبال، تحلیل تاکتیک‌ها و آمار بازی بسیار رایج است. این پروژه با هدف بهینه‌سازی و سرعت بخشیدن به این فرآیند از طریق یک سیستم خودکار بینایی ماشین (Computer Vision) توسعه یافته است. 

ما سیستمی طراحی کرده‌ایم که قادر به ردیابی حرکات و درک وقایع در بازی بسکتبال است. این سیستم با استفاده از روش‌های کلاسیک بینایی ماشین در کنار مدل‌های یادگیری عمیق مانند **Detectron2**، مسیر حرکت بازیکنان را استخراج کرده و آن‌ها را روی یک زمین استاندارد بسکتبال شبیه‌سازی (Rectify) می‌کند. همچنین این سیستم قابلیت تشخیص بازیکنی که صاحب توپ است را نیز دارد.

> **نکته:** برخی از اجزای این پروژه (مانند تشخیص توپ) با استفاده از تکنیک‌های کلاسیک CV نظیر Template Matching پیاده‌سازی شده‌اند.

---

### پیش‌نمایش (Demo)
ویدیو عملکرد سیستم و ردیابی بازیکنان در لینک زیر قابل مشاهده است:
[مشاهده ویدیوی دمو](https://www.youtube.com/watch?v=PEziTgHx4cA)

---

### پیش‌نیازها و کتابخانه‌ها
برای اجرای این پروژه، کتابخانه‌های زیر مورد نیاز است:

* **Python**
* **OpenCV** (برای پردازش تصویر)
* **Detectron2** (برای تشخیص اشیاء)
* **Pytorch-Cuda** (شتاب‌دهی سخت‌افزاری)
* **Numpy** & **Matplotlib**

---

### راهنمای استفاده و ساختار فایل‌ها
سیستم از طریق فایل اصلی `main.py` اجرا می‌شود. نقش هر یک از فایل‌های کلیدی به شرح زیر است:

* `main.py`: مقداردهی اولیه کلاس‌ها و بارگذاری تصاویر اصلاح‌شده.
* `video_handler.py`: مدیریت فرآیند خواندن فریم‌ها از ویدیو ورودی.
* `rectify_court.py`: تولید Homography، اصلاح پرسپکتیو زمین و ایجاد تصاویر پانوراما.
* `ball_detect_track.py`: تشخیص و ردیابی خودکار توپ.
* `player_detection.py`: تشخیص و ردیابی بازیکنان.
* `player.py`: شامل کلاس `Player` برای مدیریت ویژگی‌های هر بازیکن.
* `tools`: توابع کمکی و جانبی.
* `resources`: شامل تصاویر الگو (Templates) و ویدیوهای ورودی.

---

### نصب و اجرا
ابتدا مخزن را کلون کنید:

```bash
git clone [https://github.com/AmiraliSLH/ml-colorization-project.git](https://github.com/AmiraliSLH/ml-colorization-project.git)
cd ml-colorization-project
python main.py
